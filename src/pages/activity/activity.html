<!--
  Generated template for the ProfilePage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Activity</ion-title>
    <ion-buttons end>
      <button ion-button icon-left>
        <ion-icon name="search"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>
  <div class="posts">
    <div class="item-post border-bottom" *ngFor="let post of posts">
      <ion-item class="no-border">
        <ion-avatar item-left (click)="viewUser(post.user_id)">
          <img src="{{ post.face }}">
        </ion-avatar>
        <h2 (click)="viewUser(post.user_id)">{{ post.name }}</h2>
        <p>{{ post.time }}</p>
        <ion-icon name="md-more" item-right color="gray" class="pull-right" (click)="showActions()"></ion-icon>
      </ion-item>
      <ion-item text-wrap no-padding class="post-body no-border">
        <div>
          <img class="full-image" *ngIf="post.image" src="{{ post.image }}" (click)="viewPost(post.id)">
          <p (click)="viewPost(post.id)">{{ post.content }}</p>
        </div>

        <div class="actions">
          <span (click)="toggleLike(post)">
            <ion-icon name="ios-heart" color="danger" [hidden]="!post.liked"></ion-icon>
            <ion-icon name="ios-heart-outline" color="danger" [hidden]="post.liked"></ion-icon>
            <span ion-text color="gray">{{ post.likeCount}}</span>
          </span>
          <span margin-left (click)="viewPost(post.id)">
            <ion-icon name="ios-text-outline" color="primary"></ion-icon>
            <span ion-text color="gray">{{ post.commentCount}}</span>
          </span>
        </div>

      </ion-item>
    </div>
  </div>

  <!--FAB buttons-->
  <ion-fab bottom right>
    <button ion-fab mini (click)="createPost()">
      <ion-icon name="add"></ion-icon>
    </button>
  </ion-fab>

</ion-content>
